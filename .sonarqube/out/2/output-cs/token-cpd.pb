¥N
5C:\Projetos\ProjetoRH\RhProject\RhData\DataContext.cs
	namespace		 	
RhData		
 
{

 
public 

class 
DataContext 
: 
	DbContext (
{ 
public 
DataContext 
( 
) 
{ 	
} 	
public 
DataContext 
( 
DbContextOptions +
<+ ,
DataContext, 7
>7 8
options9 @
)@ A
:B C
baseD H
(H I
optionsI P
)P Q
{ 	
} 	
public 
DbSet 
< 
	Candidato 
> 
	Candidato  )
{* +
get, /
;/ 0
set1 4
;4 5
}6 7
public 
DbSet 
< 

Tecnologia 
>  

Tecnologia! +
{, -
get. 1
;1 2
set3 6
;6 7
}8 9
public 
DbSet 
< 
Vaga 
> 
Vaga 
{  !
get" %
;% &
set' *
;* +
}, -
public 
DbSet 
< 
VagaTecnologia #
># $
VagaTecnologia% 3
{5 6
get7 :
;: ;
set< ?
;? @
}A B
public 
DbSet 
< 
CandidatoTecnologia (
>( )
CandidatoTecnologia* =
{> ?
get@ C
;C D
setE H
;H I
}J K
	protected 
override 
void 
OnConfiguring  -
(- .#
DbContextOptionsBuilder. E
optionsBuilderF T
)T U
{ 	
optionsBuilder 
. 
UseSqlServer '
(' (
$str( \
)\ ]
;] ^
}   	
	protected"" 
override"" 
void"" 
OnModelCreating""  /
(""/ 0
ModelBuilder""0 <
modelBuilder""= I
)""I J
{## 	
base$$ 
.$$ 
OnModelCreating$$  
($$  !
modelBuilder$$! -
)$$- .
;$$. /
var&& 
	candidato&& 
=&& 
modelBuilder&& (
.&&( )
Entity&&) /
<&&/ 0
	Candidato&&0 9
>&&9 :
(&&: ;
)&&; <
;&&< =
	candidato(( 
.(( 
Property(( 
((( 
x((  
=>((! #
x(($ %
.((% &
Nome((& *
)((* +
.)) 

IsRequired)) 
()) 
))) 
.** 
HasMaxLength** 
(** 
$num** !
)**! "
;**" #
	candidato,, 
.,, 
Property,, 
(,, 
x,,  
=>,,! #
x,,$ %
.,,% &
	Sobrenome,,& /
),,/ 0
.-- 

IsRequired-- 
(-- 
)-- 
... 
HasMaxLength.. 
(.. 
$num.. !
)..! "
;.." #
	candidato00 
.00 
Property00 
(00 
x00  
=>00! #
x00$ %
.00% &
Idade00& +
)00+ ,
.11 

IsRequired11 
(11 
)11 
;11 
	candidato33 
.33 
Property33 
(33 
x33  
=>33! #
x33$ %
.33% &
Cpf33& )
)33) *
.44 

IsRequired44 
(44 
)44 
;44 
	candidato88 
.88 
HasOne88 
(88 
x88 
=>88 !
x88" #
.88# $
Vaga88$ (
)88( )
.99 
WithMany99 
(99 
x99 
=>99 
x99  
.99  !

Candidatos99! +
)99+ ,
.:: 
OnDelete:: 
(:: 
DeleteBehavior:: (
.::( )
Restrict::) 1
)::1 2
.;; 
HasForeignKey;; 
(;; 
x;;  
=>;;! #
x;;$ %
.;;% &
VagaId;;& ,
);;, -
;;;- .
var== 

tecnologia== 
=== 
modelBuilder== )
.==) *
Entity==* 0
<==0 1

Tecnologia==1 ;
>==; <
(==< =
)=== >
;==> ?

tecnologia?? 
.?? 
Property?? 
(??  
x??  !
=>??" $
x??% &
.??& '
	Descricao??' 0
)??0 1
.@@ 

IsRequired@@ 
(@@ 
)@@ 
.AA 
HasMaxLengthAA 
(AA 
$numAA !
)AA! "
;AA" #

tecnologiaCC 
.CC 
HasManyCC 
(CC 
xCC  
=>CC! #
xCC$ %
.CC% &
VagasTecnologiasCC& 6
)CC6 7
.DD 
WithOneDD 
(DD 
xDD 
=>DD 
xDD 
.DD  

TecnologiaDD  *
)DD* +
.EE 
OnDeleteEE 
(EE 
DeleteBehaviorEE (
.EE( )
CascadeEE) 0
)EE0 1
.FF 
HasForeignKeyFF 
(FF 
xFF  
=>FF! #
xFF$ %
.FF% &
TecnologiaIdFF& 2
)FF2 3
;FF3 4
varJJ 
vagaJJ 
=JJ 
modelBuilderJJ #
.JJ# $
EntityJJ$ *
<JJ* +
VagaJJ+ /
>JJ/ 0
(JJ0 1
)JJ1 2
;JJ2 3
vagaLL 
.LL 
PropertyLL 
(LL 
xLL 
=>LL 
xLL  
.LL  !
	DescricaoLL! *
)LL* +
.MM 

IsRequiredMM 
(MM 
)MM 
.NN 
HasMaxLengthNN 
(NN 
$numNN "
)NN" #
;NN# $
varPP 
vagaTecnologiaPP 
=PP  
modelBuilderPP! -
.PP- .
EntityPP. 4
<PP4 5
VagaTecnologiaPP5 C
>PPC D
(PPD E
)PPE F
;PPF G
vagaTecnologiaRR 
.RR 
HasKeyRR !
(RR! "
xRR" #
=>RR$ &
newRR' *
{RR+ ,
xRR- .
.RR. /
TecnologiaIdRR/ ;
,RR; <
xRR= >
.RR> ?
VagaIdRR? E
}RRF G
)RRG H
;RRH I
vagaTecnologiaTT 
.TT 
PropertyTT #
(TT# $
xTT$ %
=>TT& (
xTT) *
.TT* +
PesoTT+ /
)TT/ 0
;TT0 1
vagaTecnologiaWW 
.WW 
HasOneWW !
(WW! "
xWW" #
=>WW$ &
xWW' (
.WW( )

TecnologiaWW) 3
)WW3 4
.XX 
WithManyXX 
(XX 
xXX 
=>XX 
xXX  
.XX  !
VagasTecnologiasXX! 1
)XX1 2
.YY 
OnDeleteYY 
(YY 
DeleteBehaviorYY (
.YY( )
CascadeYY) 0
)YY0 1
.ZZ 
HasForeignKeyZZ 
(ZZ 
xZZ  
=>ZZ! #
xZZ$ %
.ZZ% &
TecnologiaIdZZ& 2
)ZZ2 3
;ZZ3 4
vagaTecnologia\\ 
.\\ 
HasOne\\ !
(\\! "
x\\" #
=>\\$ &
x\\' (
.\\( )
Vaga\\) -
)\\- .
.]] 
WithMany]] 
(]] 
x]] 
=>]] 
x]]  
.]]  !
VagasTecnologias]]! 1
)]]1 2
.^^ 
OnDelete^^ 
(^^ 
DeleteBehavior^^ (
.^^( )
Cascade^^) 0
)^^0 1
.__ 
HasForeignKey__ 
(__ 
x__  
=>__! #
x__$ %
.__% &
VagaId__& ,
)__, -
;__- .
varaa 
candidatoTecnologiaaa #
=aa$ %
modelBuilderaa& 2
.aa2 3
Entityaa3 9
<aa9 :
CandidatoTecnologiaaa: M
>aaM N
(aaN O
)aaO P
;aaP Q
candidatoTecnologiacc 
.cc  
HasKeycc  &
(cc& '
xcc' (
=>cc) +
newcc, /
{cc0 1
xcc2 3
.cc3 4
CandidatoIdcc4 ?
,cc? @
xccA B
.ccB C
TecnologiaIdccC O
}ccP Q
)ccQ R
;ccR S
candidatoTecnologiaee 
.ee  
HasOneee  &
(ee& '
xee' (
=>ee) +
xee, -
.ee- .

Tecnologiaee. 8
)ee8 9
.ff 
WithManyff 
(ff 
xff 
=>ff 
xff  
.ff  !!
CandidatosTecnologiasff! 6
)ff6 7
.gg 
OnDeletegg 
(gg 
DeleteBehaviorgg (
.gg( )
Cascadegg) 0
)gg0 1
.hh 
HasForeignKeyhh 
(hh 
xhh  
=>hh! #
xhh$ %
.hh% &
TecnologiaIdhh& 2
)hh2 3
;hh3 4
candidatoTecnologiajj 
.jj  
HasOnejj  &
(jj& '
xjj' (
=>jj) +
xjj, -
.jj- .
	Candidatojj. 7
)jj7 8
.kk 
WithManykk 
(kk 
xkk 
=>kk 
xkk  
.kk  !!
CandidatosTecnologiaskk! 6
)kk6 7
.ll 
OnDeletell 
(ll 
DeleteBehaviorll (
.ll( )
Cascadell) 0
)ll0 1
.mm 
HasForeignKeymm 
(mm 
xmm  
=>mm! #
xmm$ %
.mm% &
CandidatoIdmm& 1
)mm1 2
;mm2 3
}oo 	
}pp 
}qq Çl
QC:\Projetos\ProjetoRH\RhProject\RhData\Migrations\20210611155314_initialCreate.cs
	namespace 	
RhData
 
. 

Migrations 
{ 
public 

partial 
class 
initialCreate &
:' (
	Migration) 2
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder		 
.		 
CreateTable		 (
(		( )
name

 
:

 
$str

 "
,

" #
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
int& )
>) *
(* +
type+ /
:/ 0
$str1 6
,6 7
nullable8 @
:@ A
falseB G
)G H
. 

Annotation #
(# $
$str$ 8
,8 9
$str: @
)@ A
,A B
	Descricao 
= 
table  %
.% &
Column& ,
<, -
string- 3
>3 4
(4 5
type5 9
:9 :
$str; J
,J K
	maxLengthL U
:U V
$numW Z
,Z [
nullable\ d
:d e
falsef k
)k l
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 4
,4 5
x6 7
=>8 :
x; <
.< =
Id= ?
)? @
;@ A
} 
) 
; 
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str 
, 
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
int& )
>) *
(* +
type+ /
:/ 0
$str1 6
,6 7
nullable8 @
:@ A
falseB G
)G H
. 

Annotation #
(# $
$str$ 8
,8 9
$str: @
)@ A
,A B
	Descricao 
= 
table  %
.% &
Column& ,
<, -
string- 3
>3 4
(4 5
type5 9
:9 :
$str; J
,J K
	maxLengthL U
:U V
$numW [
,[ \
nullable] e
:e f
falseg l
)l m
} 
, 
constraints 
: 
table "
=># %
{ 
table   
.   

PrimaryKey   $
(  $ %
$str  % .
,  . /
x  0 1
=>  2 4
x  5 6
.  6 7
Id  7 9
)  9 :
;  : ;
}!! 
)!! 
;!! 
migrationBuilder## 
.## 
CreateTable## (
(##( )
name$$ 
:$$ 
$str$$ !
,$$! "
columns%% 
:%% 
table%% 
=>%% !
new%%" %
{&& 
Id'' 
='' 
table'' 
.'' 
Column'' %
<''% &
int''& )
>'') *
(''* +
type''+ /
:''/ 0
$str''1 6
,''6 7
nullable''8 @
:''@ A
false''B G
)''G H
.(( 

Annotation(( #
(((# $
$str(($ 8
,((8 9
$str((: @
)((@ A
,((A B
Nome)) 
=)) 
table))  
.))  !
Column))! '
<))' (
string))( .
>)). /
())/ 0
type))0 4
:))4 5
$str))6 E
,))E F
	maxLength))G P
:))P Q
$num))R U
,))U V
nullable))W _
:))_ `
false))a f
)))f g
,))g h
	Sobrenome** 
=** 
table**  %
.**% &
Column**& ,
<**, -
string**- 3
>**3 4
(**4 5
type**5 9
:**9 :
$str**; J
,**J K
	maxLength**L U
:**U V
$num**W Z
,**Z [
nullable**\ d
:**d e
false**f k
)**k l
,**l m
Idade++ 
=++ 
table++ !
.++! "
Column++" (
<++( )
double++) /
>++/ 0
(++0 1
type++1 5
:++5 6
$str++7 >
,++> ?
nullable++@ H
:++H I
false++J O
)++O P
,++P Q
Cpf,, 
=,, 
table,, 
.,,  
Column,,  &
<,,& '
string,,' -
>,,- .
(,,. /
type,,/ 3
:,,3 4
$str,,5 D
,,,D E
nullable,,F N
:,,N O
false,,P U
),,U V
,,,V W
VagaId-- 
=-- 
table-- "
.--" #
Column--# )
<--) *
int--* -
>--- .
(--. /
type--/ 3
:--3 4
$str--5 :
,--: ;
nullable--< D
:--D E
false--F K
)--K L
}.. 
,.. 
constraints// 
:// 
table// "
=>//# %
{00 
table11 
.11 

PrimaryKey11 $
(11$ %
$str11% 3
,113 4
x115 6
=>117 9
x11: ;
.11; <
Id11< >
)11> ?
;11? @
table22 
.22 

ForeignKey22 $
(22$ %
name33 
:33 
$str33 8
,338 9
column44 
:44 
x44  !
=>44" $
x44% &
.44& '
VagaId44' -
,44- .
principalTable55 &
:55& '
$str55( .
,55. /
principalColumn66 '
:66' (
$str66) -
,66- .
onDelete77  
:77  !
ReferentialAction77" 3
.773 4
Restrict774 <
)77< =
;77= >
}88 
)88 
;88 
migrationBuilder:: 
.:: 
CreateTable:: (
(::( )
name;; 
:;; 
$str;; &
,;;& '
columns<< 
:<< 
table<< 
=><< !
new<<" %
{== 
VagaId>> 
=>> 
table>> "
.>>" #
Column>># )
<>>) *
int>>* -
>>>- .
(>>. /
type>>/ 3
:>>3 4
$str>>5 :
,>>: ;
nullable>>< D
:>>D E
false>>F K
)>>K L
,>>L M
TecnologiaId??  
=??! "
table??# (
.??( )
Column??) /
<??/ 0
int??0 3
>??3 4
(??4 5
type??5 9
:??9 :
$str??; @
,??@ A
nullable??B J
:??J K
false??L Q
)??Q R
,??R S
Peso@@ 
=@@ 
table@@  
.@@  !
Column@@! '
<@@' (
int@@( +
>@@+ ,
(@@, -
type@@- 1
:@@1 2
$str@@3 8
,@@8 9
nullable@@: B
:@@B C
false@@D I
)@@I J
}AA 
,AA 
constraintsBB 
:BB 
tableBB "
=>BB# %
{CC 
tableDD 
.DD 

PrimaryKeyDD $
(DD$ %
$strDD% 8
,DD8 9
xDD: ;
=>DD< >
newDD? B
{DDC D
xDDE F
.DDF G
TecnologiaIdDDG S
,DDS T
xDDU V
.DDV W
VagaIdDDW ]
}DD^ _
)DD_ `
;DD` a
tableEE 
.EE 

ForeignKeyEE $
(EE$ %
nameFF 
:FF 
$strFF I
,FFI J
columnGG 
:GG 
xGG  !
=>GG" $
xGG% &
.GG& '
TecnologiaIdGG' 3
,GG3 4
principalTableHH &
:HH& '
$strHH( 4
,HH4 5
principalColumnII '
:II' (
$strII) -
,II- .
onDeleteJJ  
:JJ  !
ReferentialActionJJ" 3
.JJ3 4
CascadeJJ4 ;
)JJ; <
;JJ< =
tableKK 
.KK 

ForeignKeyKK $
(KK$ %
nameLL 
:LL 
$strLL =
,LL= >
columnMM 
:MM 
xMM  !
=>MM" $
xMM% &
.MM& '
VagaIdMM' -
,MM- .
principalTableNN &
:NN& '
$strNN( .
,NN. /
principalColumnOO '
:OO' (
$strOO) -
,OO- .
onDeletePP  
:PP  !
ReferentialActionPP" 3
.PP3 4
CascadePP4 ;
)PP; <
;PP< =
}QQ 
)QQ 
;QQ 
migrationBuilderSS 
.SS 
CreateTableSS (
(SS( )
nameTT 
:TT 
$strTT +
,TT+ ,
columnsUU 
:UU 
tableUU 
=>UU !
newUU" %
{VV 
CandidatoIdWW 
=WW  !
tableWW" '
.WW' (
ColumnWW( .
<WW. /
intWW/ 2
>WW2 3
(WW3 4
typeWW4 8
:WW8 9
$strWW: ?
,WW? @
nullableWWA I
:WWI J
falseWWK P
)WWP Q
,WWQ R
TecnologiaIdXX  
=XX! "
tableXX# (
.XX( )
ColumnXX) /
<XX/ 0
intXX0 3
>XX3 4
(XX4 5
typeXX5 9
:XX9 :
$strXX; @
,XX@ A
nullableXXB J
:XXJ K
falseXXL Q
)XXQ R
}YY 
,YY 
constraintsZZ 
:ZZ 
tableZZ "
=>ZZ# %
{[[ 
table\\ 
.\\ 

PrimaryKey\\ $
(\\$ %
$str\\% =
,\\= >
x\\? @
=>\\A C
new\\D G
{\\H I
x\\J K
.\\K L
CandidatoId\\L W
,\\W X
x\\Y Z
.\\Z [
TecnologiaId\\[ g
}\\h i
)\\i j
;\\j k
table]] 
.]] 

ForeignKey]] $
(]]$ %
name^^ 
:^^ 
$str^^ L
,^^L M
column__ 
:__ 
x__  !
=>__" $
x__% &
.__& '
CandidatoId__' 2
,__2 3
principalTable`` &
:``& '
$str``( 3
,``3 4
principalColumnaa '
:aa' (
$straa) -
,aa- .
onDeletebb  
:bb  !
ReferentialActionbb" 3
.bb3 4
Cascadebb4 ;
)bb; <
;bb< =
tablecc 
.cc 

ForeignKeycc $
(cc$ %
namedd 
:dd 
$strdd N
,ddN O
columnee 
:ee 
xee  !
=>ee" $
xee% &
.ee& '
TecnologiaIdee' 3
,ee3 4
principalTableff &
:ff& '
$strff( 4
,ff4 5
principalColumngg '
:gg' (
$strgg) -
,gg- .
onDeletehh  
:hh  !
ReferentialActionhh" 3
.hh3 4
Cascadehh4 ;
)hh; <
;hh< =
}ii 
)ii 
;ii 
migrationBuilderkk 
.kk 
CreateIndexkk (
(kk( )
namell 
:ll 
$strll +
,ll+ ,
tablemm 
:mm 
$strmm "
,mm" #
columnnn 
:nn 
$strnn  
)nn  !
;nn! "
migrationBuilderpp 
.pp 
CreateIndexpp (
(pp( )
nameqq 
:qq 
$strqq ;
,qq; <
tablerr 
:rr 
$strrr ,
,rr, -
columnss 
:ss 
$strss &
)ss& '
;ss' (
migrationBuilderuu 
.uu 
CreateIndexuu (
(uu( )
namevv 
:vv 
$strvv 0
,vv0 1
tableww 
:ww 
$strww '
,ww' (
columnxx 
:xx 
$strxx  
)xx  !
;xx! "
}yy 	
	protected{{ 
override{{ 
void{{ 
Down{{  $
({{$ %
MigrationBuilder{{% 5
migrationBuilder{{6 F
){{F G
{|| 	
migrationBuilder}} 
.}} 
	DropTable}} &
(}}& '
name~~ 
:~~ 
$str~~ +
)~~+ ,
;~~, -
migrationBuilder
 
.
 
	DropTable
 &
(
& '
name
 
:
 
$str
 &
)
& '
;
' (
migrationBuilder
 
.
 
	DropTable
 &
(
& '
name
 
:
 
$str
 !
)
! "
;
" #
migrationBuilder
 
.
 
	DropTable
 &
(
& '
name
 
:
 
$str
 "
)
" #
;
# $
migrationBuilder
 
.
 
	DropTable
 &
(
& '
name
 
:
 
$str
 
)
 
;
 
}
 	
}
 
} ­
KC:\Projetos\ProjetoRH\RhProject\RhData\Migrations\20210615143359_PesoAdd.cs
	namespace 	
RhData
 
. 

Migrations 
{ 
public 

partial 
class 
PesoAdd  
:! "
	Migration# ,
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder		 
.		 
	AddColumn		 &
<		& '
int		' *
>		* +
(		+ ,
name

 
:

 
$str

 
,

 
table 
: 
$str ,
,, -
type 
: 
$str 
, 
nullable 
: 
false 
,  
defaultValue 
: 
$num 
)  
;  !
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 

DropColumn '
(' (
name 
: 
$str 
, 
table 
: 
$str ,
), -
;- .
} 	
} 
} 
JC:\Projetos\ProjetoRH\RhProject\RhData\Repositories\CandidatoRepository.cs
	namespace 	
RhData
 
. 
Repositories 
{ 
public 

class 
CandidatoRepository $
:% &

Repository' 1
<1 2
int2 5
,5 6
	Candidato7 @
>@ A
,A B 
ICandidatoRepositoryC W
{ 
private 
readonly 
DataContext $
_dataContext% 1
;1 2
public 
CandidatoRepository "
(" #
DataContext# .
dataContext/ :
): ;
:< =
base> B
(B C
dataContextC N
)N O
{ 	
_dataContext 
= 
dataContext &
;& '
} 	
public 
	Candidato 2
&BuscaCandidatoTecnologiaComTecnologias @
(@ A
intA D
idE G
)G H
{ 	
return 
_dataContext 
.  
	Candidato  )
. 
Where 
( 
x 
=> 
x 
. 
Id  
==! #
id$ &
)& '
.' (
Include( /
(/ 0
o0 1
=>2 4
o5 6
.6 7!
CandidatosTecnologias7 L
)L M
. 
ThenInclude 
( 
p 
=> !
p" #
.# $

Tecnologia$ .
). /
. 
ThenInclude 
( 
t 
=> !
t" #
.# $
VagasTecnologias$ 4
)4 5
. 
FirstOrDefault 
(  
)  !
;! "
} 	
public 
	Candidato 2
&BuscarParaArmazenarCandidatoTecnologia ?
(? @2
&CandidatoComTecnologiaParaArmazenarDto@ f3
&candidatoComTecnologiaParaArmazenarDto	g 
)
 
{ 	
return   
_dataContext   
.    
	Candidato    )
.!! 
Include!! 
(!! 
x!! 
=>!! 
x!! 
.!!  
Vaga!!  $
)!!$ %
."" 
ThenInclude"" 
("" 
p"" 
=>"" !
p""" #
.""# $
VagasTecnologias""$ 4
)""4 5
.## 
FirstOrDefault## 
(##  
x##  !
=>##" $
x##% &
.##& '
Id##' )
==##* ,2
&candidatoComTecnologiaParaArmazenarDto##- S
.##S T
CandidatoId##T _
&&$$ 
x$$ 
.$$ 
VagaId$$ 
==$$ 2
&candidatoComTecnologiaParaArmazenarDto$$ E
.$$E F
VagaId$$F L
&&%% 
x%% 
.%% 
Vaga%% 
.%% 
VagasTecnologias%% *
.%%* +
Any%%+ .
(%%. /
o%%/ 0
=>%%1 3
o%%4 5
.%%5 6
TecnologiaId%%6 B
==%%C E2
&candidatoComTecnologiaParaArmazenarDto%%F l
.%%l m
TecnologiaId%%m y
)%%y z
)%%z {
;%%{ |
}&& 	
public(( 
async(( 
Task(( 
<(( 
List(( 
<(( 
	Candidato(( (
>((( )
>(() *1
%BuscarListaCandidatosComVagaDescricao((+ P
(((P Q
)((Q R
{)) 	
return** 
await** 
_dataContext** %
.**% &
	Candidato**& /
.**/ 0
Include**0 7
(**7 8
x**8 9
=>**: <
x**= >
.**> ?
Vaga**? C
)**C D
.**D E
ToListAsync**E P
(**P Q
)**Q R
;**R S
}++ 	
},, 
}-- Í
TC:\Projetos\ProjetoRH\RhProject\RhData\Repositories\CandidatoTecnologiaRepository.cs
	namespace

 	
RhData


 
.

 
Repositories

 
{ 
public 

class )
CandidatoTecnologiaRepository .
:/ 0

Repository1 ;
<; <
int< ?
,? @
CandidatoTecnologiaA T
>T U
,U V*
ICandidatoTecnologiaRepositoryW u
{ 
private 
readonly 
DataContext $
_dataContext% 1
;1 2
public )
CandidatoTecnologiaRepository ,
(, -
DataContext- 8
dataContext9 D
)D E
:F G
baseH L
(L M
dataContextM X
)X Y
{ 	
_dataContext 
= 
dataContext &
;& '
} 	
public 
CandidatoTecnologia "/
#BuscarCandidatoTecnologiaporDuploId# F
(F G
intG J
candidatoIdK V
,V W
intX [
tecnologiaId\ h
)h i
{ 	
return 
_dataContext 
.  
Set  #
<# $
CandidatoTecnologia$ 7
>7 8
(8 9
)9 :
.: ;
Find; ?
(? @
candidatoId@ K
,K L
tecnologiaIdM Y
)Y Z
;Z [
} 	
public 
CandidatoTecnologia "4
(BuscarCandidatoTecnologiaPorTecnologiaId# K
(K L
intL O
tecnologiaIdP \
)\ ]
{ 	
return 
_dataContext 
.  
Set  #
<# $
CandidatoTecnologia$ 7
>7 8
(8 9
)9 :
.: ;
FirstOrDefault; I
(I J
xJ K
=>L N
xO P
.P Q
TecnologiaIdQ ]
==^ `
tecnologiaIda m
)m n
;n o
} 	
} 
} Ë
KC:\Projetos\ProjetoRH\RhProject\RhData\Repositories\TecnologiaRepository.cs
	namespace 	
RhData
 
. 
Repositories 
{		 
public

 

class

  
TecnologiaRepository

 %
:

& '

Repository

( 2
<

2 3
int

3 6
,

6 7

Tecnologia

8 B
>

B C
,

C D!
ITecnologiaRepository

E Z
{ 
public  
TecnologiaRepository #
(# $
DataContext$ /
dataContext0 ;
); <
:= >
base? C
(C D
dataContextD O
)O P
{ 	
} 	
} 
} ¥
EC:\Projetos\ProjetoRH\RhProject\RhData\Repositories\VagaRepository.cs
	namespace 	
RhData
 
. 
Repositories 
{ 
public 

class 
VagaRepository 
:  !

Repository" ,
<, -
int- 0
,0 1
Vaga2 6
>6 7
,7 8
IVagaRepository9 H
{ 
private 
readonly 
DataContext $
_dataContext% 1
;1 2
public 
VagaRepository 
( 
DataContext )
dataContext* 5
)5 6
:7 8
base9 =
(> ?
dataContext? J
)J K
{ 	
_dataContext 
= 
dataContext &
;& '
} 	
public 
Vaga 
BuscaVagaComInclude '
(' (
int( +
id, .
). /
{ 	
return 
_dataContext 
.  
Set  #
<# $
Vaga$ (
>( )
() *
)* +
. 
Where 
( 
x 
=> 
x 
. 
Id  
==! #
id$ &
)& '
. 
Include 
( 
y 
=> 
y 
.  
VagasTecnologias  0
)0 1
. 
ThenInclude 
( 
l 
=> !
l" #
.# $

Tecnologia$ .
). /
. 
Include 
( 
k 
=> 
k 
.  

Candidatos  *
)* +
. 
ThenInclude 
( 
o 
=> !
o" #
.# $!
CandidatosTecnologias$ 9
)9 :
. 
FirstOrDefault 
(  
)  !
;! "
} 	
}!! 
}"" 
OC:\Projetos\ProjetoRH\RhProject\RhData\Repositories\VagaTecnologiaRepository.cs
	namespace		 	
RhData		
 
.		 
Repositories		 
{

 
public 

class $
VagaTecnologiaRepository )
:* +

Repository, 6
<6 7
int7 :
,: ;
VagaTecnologia< J
>J K
,K L%
IVagaTecnologiaRepositoryM f
{ 
private 
readonly 
DataContext $
_dataContext% 1
;1 2
public $
VagaTecnologiaRepository '
(' (
DataContext( 3
dataContext4 ?
)? @
:A B
baseC G
(G H
dataContextH S
)S T
{ 	
_dataContext 
= 
dataContext &
;& '
} 	
public 
async 
Task 
< 
VagaTecnologia (
>( ))
BuscaVagaTecnologiaPorIdDuplo* G
(G H
intH K
vagaIdL R
,R S
intT W
tecnologiaIdX d
)d e
{ 	
return 
await 
_dataContext %
.% &
Set& )
<) *
VagaTecnologia* 8
>8 9
(9 :
): ;
.; <
	FindAsync< E
(E F
tecnologiaIdF R
,R S
vagaIdT Z
)[ \
;\ ]
} 	
public 
VagaTecnologia .
"BuscaVagaTecnologiaPorTecnologiaId @
(@ A
intA D
tecnologiaIdE Q
)Q R
{ 	
return 
_dataContext 
.  
Set  #
<# $
VagaTecnologia$ 2
>2 3
(3 4
)4 5
.5 6
FirstOrDefault6 D
(D E
xE F
=>G I
xJ K
.K L
TecnologiaIdL X
==Y [
tecnologiaId\ h
)h i
;i j
} 	
public 
VagaTecnologia (
BuscaVagaTecnologiaPorVagaId :
(: ;
int; >
vagaId? E
)E F
{ 	
return 
_dataContext 
.  
Set  #
<# $
VagaTecnologia$ 2
>2 3
(3 4
)4 5
.5 6
FirstOrDefault6 D
(D E
xE F
=>G I
xJ K
.K L
VagaIdL R
==S U
vagaIdV \
)\ ]
;] ^
}   	
}!! 
}"" ò
4C:\Projetos\ProjetoRH\RhProject\RhData\Repository.cs
	namespace 	
RhData
 
{ 
public 

class 

Repository 
< 
TId 
,  
TEntity! (
>( )
:* +
IRepository, 7
<7 8
TId8 ;
,; <
TEntity= D
>D E
where 
TId 
: 
struct 
where 
TEntity 
: 
class 
{ 
private 
readonly 
DbSet 
< 
TEntity &
>& '
_dbSet( .
;. /
private 
readonly 
DataContext $
_dataContext% 1
;1 2
public 

Repository 
( 
DataContext %
dataContext& 1
)1 2
{ 	
_dataContext 
= 
dataContext &
;& '
_dbSet 
= 
_dataContext !
.! "
Set" %
<% &
TEntity& -
>- .
(. /
)/ 0
;0 1
} 	
public 
void 
	Armazenar 
( 
TEntity %
obj& )
)) *
{ 	
_dbSet 
. 
Add 
( 
obj 
) 
; 
} 	
public   
void   
Excluir   
(   
TEntity   #
obj  $ '
)  ' (
{!! 	
_dbSet"" 
."" 
Remove"" 
("" 
obj"" 
)"" 
;"" 
}## 	
public%% 
TEntity%% 
BuscarPorId%% "
(%%" #
TId%%# &
Id%%' )
)%%) *
{&& 	
return'' 
_dbSet'' 
.'' 
Find'' 
('' 
Id'' !
)''! "
;''" #
}(( 	
public** 
async** 
Task** 
<** 
List** 
<** 
TEntity** &
>**& '
>**' (
BuscarLista**) 4
(**4 5
)**5 6
{++ 	
return,, 
await,, 
_dbSet,, 
.,,  
ToListAsync,,  +
(,,+ ,
),,, -
;,,- .
}-- 	
public// 
TEntity// 
	Alterador//  
(//  !
TEntity//! (
obj//) ,
)//, -
{00 	
_dbSet11 
.11 
Update11 
(11 
obj11 
)11 
;11 
return22 
obj22 
;22 
}33 	
}44 
}55 Ø
4C:\Projetos\ProjetoRH\RhProject\RhData\UnitOfWork.cs
	namespace 	
RhData
 
{ 
public 

class 

UnitOfWork 
: 
IUnitOfWork )
{ 
private 
readonly 
DataContext $
_dataContext% 1
;1 2
public 

UnitOfWork 
( 
DataContext %
dataContext& 1
)1 2
{ 	
_dataContext 
= 
dataContext &
;& '
} 	
public 
CommandResponse 
Commit %
(% &
)& '
{ 	
try 
{ 
_dataContext 
. 
SaveChanges (
(( )
)) *
;* +
return 
new 
CommandResponse *
(* +
true+ /
)/ 0
;0 1
} 
catch 
( 
	Exception 
ex 
)  
{ 
Debug 
. 
	WriteLine 
(  
ex  "
." #
Message# *
)* +
;+ ,
return   
new   
CommandResponse   *
(  * +
false  + 0
)  0 1
;  1 2
}!! 
}"" 	
public$$ 
void$$ 
ResetChanges$$  
($$  !
)$$! "
{%% 	
var&& 
entries&& 
=&& 
_dataContext&& &
.&&& '
ChangeTracker&&' 4
.'' 
Entries'' 
('' 
)'' 
.(( 
Where(( 
((( 
ent(( 
=>(( 
ent(( !
.((! "
State((" '
!=((( *
EntityState((+ 6
.((6 7
	Unchanged((7 @
)((@ A
.)) 
ToList)) 
()) 
))) 
;)) 
for++ 
(++ 
var++ 
i++ 
=++ 
$num++ 
;++ 
i++ 
<++ 
entries++  '
.++' (
Count++( -
;++- .
i++/ 0
++++0 2
)++2 3
{,, 
var-- 
entry-- 
=-- 
entries-- #
.--# $
	ElementAt--$ -
(--- .
i--. /
)--/ 0
;--0 1
switch.. 
(.. 
entry.. 
... 
State.. #
)..# $
{// 
case00 
EntityState00 $
.00$ %
Modified00% -
:00- .
case11 
EntityState11 $
.11$ %
Deleted11% ,
:11, -
entry22 
.22 
State22 #
=22$ %
EntityState22& 1
.221 2
Modified222 :
;22: ;
entry33 
.33 
State33 #
=33$ %
EntityState33& 1
.331 2
	Unchanged332 ;
;33; <
continue44  
;44  !
case55 
EntityState55 $
.55$ %
Added55% *
:55* +
entry66 
.66 
State66 #
=66$ %
EntityState66& 1
.661 2
Detached662 :
;66: ;
continue77  
;77  !
}88 
}99 
}:: 	
};; 
}<< 